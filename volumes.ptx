<section xml:id="section-volumes">
  <title>Volumes</title>
  <subsection xml:id="subsection-cross-sectional-slices">
    <title>Volumes by Cross-Sectional Slices</title>
    <p>
      For parametric curves, we approached the length of a curve by
      defining an infinitesimal length <m>ds</m> and then using
      integration to <sq>add up</sq> all the infinitesimals.
      <me>
        L = \int ds
      </me>
    </p>
    <p>
      This technique of thinking in infinitesimals is useful for many
      applications of integration. In this section, we're going to
      use it to calculate volumes.
    </p>
    <figure xml:id="figure-slices-sphere">
      <caption>Slices of the Sphere</caption>
      <image xml:id="figure18" width="80%">
        <asymptote>
          unitsize(5cm);
          import solids;

          currentprojection=orthographic(3,-4,5);

          pen bg=lightblue+opacity(0.3);

          draw(unitsphere,lightblue+opacity(0.5));

          draw(surface((0,-1,-1)--(0,-1,1)--(0,1,1)--(0,1,-1)
            --cycle),bg,bg);
          draw(surface((0.2,-1,-1)--(0.2,-1,1)--(0.2,1,1)--(0.2,1,-1)
            --cycle),bg,bg);
          draw(surface((0.4,-1,-1)--(0.4,-1,1)--(0.4,1,1)--(0.4,1,-1)
            --cycle),bg,bg);
          draw(surface((0.6,-1,-1)--(0.6,-1,1)--(0.6,1,1)--(0.6,1,-1)
            --cycle),bg,bg);
          draw(surface((0.8,-1,-1)--(0.8,-1,1)--(0.8,1,1)--(0.8,1,-1)
            --cycle),bg,bg);

          draw((0,0,1)..(0,1,0)..(0,0,-1)..(0,-1,0)..cycle);
          draw((0.2,0,0.98)..(0.2,0.98,0)..(0.2,0,-0.98)..(0.2,-0.98,0)
            ..cycle);
          draw((0.4,0,0.91)..(0.4,0.91,0)..(0.4,0,-0.91)..(0.4,-0.91,0)
            ..cycle);
          draw((0.6,0,0.8)..(0.6,0.8,0)..(0.6,0,-0.8)..(0.6,-0.8,0)
            ..cycle);
          draw((0.8,0,0.6)..(0.8,0.6,0)..(0.8,0,-0.6)..(0.8,-0.6,0)
            ..cycle);
        </asymptote>
      </image>
    </figure>
    <example>
      <statement>
        <p>
          A basic example is the volume of a sphere. In these
          infinitesimal arguments, we need to divide the object into
          pieces, either slices or more complicated shapes, which have
          an infinitesimal thickness. For the sphere, we divide it
          into infinitesimally thin discs. Let's say the sphere of
          radius <m>r</m> is centered at the origin in <m>\RR^3</m>.
          We slice it into vertical slices with circular cross
          sections.
        </p>
        <figure xml:id="figure-cross-secdtion-sphere">
          <caption>Cross Section of a Sphere</caption>
          <image xml:id="figure19" width="80%">
            <asymptote>
              size(12cm,12cm);
              import graph;
              xaxis();
              yaxis();

              draw(unitcircle);

              draw((0.5,1.1)--(0.5,-1.1));

              draw((0,0)--(0.5,0.866));

              dot("$y = \sqrt{r^2-x^2}$",(0.5,0.866),NE);
              label("$x^2 + y^2 = r^2$",(-0.71,0.71),SE);
              label("Slice at $x$, width $dx$",(0.5,-1),E);
            </asymptote>
          </image>
        </figure>
        <p>
          What is the radius of each disc? If we look at a
          cross-section of the middle of the sphere, we get the circle
          <m>x^2 + y^2 = r^2</m>. If our slices are vertical, then
          their radius is simply the <m>y</m> value <m>y = \sqrt{r^2 -
          x^2}</m>. Then, as we move from <m>x = -r</m> to <m>x =
          r</m>, we get all the radii from <m>0</m> to <m>r</m> and
          back to <m>0</m> again. All of these discs have thickness
          <m>dx</m>, an infinitesimal, and area <m>\pi y^2 = \pi (r^2
          - x^2)</m>. Then we just add up all the infinitesimal
          pieces in an integral.
          <md>
            <mrow>
              V \amp = \int_{-r}^r A dx = \int_{-r}^r \pi (r^2 - x^2)
              dx
            </mrow>
            <mrow>
              \amp = \pi \int_{-r}^r r^2 - x^2 dx = \left. \pi r^2 x
              - \pi \frac{x^3}{3} \right|_{-r}^r
            </mrow>
            <mrow>
              \amp = \pi r^3 - (-\pi r^3) - \left( \frac{\pi r^3}{3}
              + \frac{\pi r^3}{3} \right) = 2\pi r^3 - \frac{2\pi
              r^3}{3} = \frac{4\pi r^3}{3}
            </mrow>
          </md>
        </p>
        <p>
          The result is the conventional old formula for the volume of
          a sphere.
        </p>
      </statement>
    </example>
    <figure xml:id="figure-slices-parabaloid">
      <caption>Slices of a Parabaloid</caption>
      <image xml:id="figure20" width="80%">
        <asymptote>
          unitsize(5cm);
          import solids;
          import three;

          currentprojection=orthographic(-1,1,0.3);

          revolution P=revolution(graph(new triple(real z) {return
          (sqrt(z),0,z);},0,5,25,operator..) ,axis=Z);
          draw(surface(P),lightblue+opacity(0.5),render(compression=Low));

          pen bg=lightblue+opacity(0.4);

          draw(surface((3,3,1)--(-3,3,1)--(-3,-3,1)--(3,-3,1)
            --cycle),bg,bg);
          draw(surface((3,3,2)--(-3,3,2)--(-3,-3,2)--(3,-3,2)
            --cycle),bg,bg);
          draw(surface((3,3,3)--(-3,3,3)--(-3,-3,3)--(3,-3,3)
            --cycle),bg,bg);
          draw(surface((3,3,4)--(-3,3,4)--(-3,-3,4)--(3,-3,4)
            --cycle),bg,bg);

          draw((1,0,1)..(0,1,1)..(-1,0,1)..(0,-1,1)..cycle);
          draw((1.4,0,2)..(0,1.4,2)..(-1.4,0,2)..(0,-1.4,2)..cycle);
          draw((1.73,0,3)..(0,1.73,3)..(-1.73,0,3)..(0,-1.73,3)..cycle);
          draw((2,0,4)..(0,2,4)..(-2,0,4)..(0,-2,4)..cycle);
        </asymptote>
      </image>
    </figure>
    <example>
      <statement>
        <p>
          A slightly more involved example is the volume of a
          parabaloid of height <m>h</m> and radius <m>a</m>. The
          parabaloid is described by the function <m>y = h
          \left(\frac{x}{a}\right)^2</m> rotated around the <m>y</m>
          axis. We have <m>x \in [0, a]</m> and <m>y \in [0, h]</m>.
          (Many of these volume problems can be expressed as surfaces
          of revolution: take a function and revolve it around a
          axis.) To add up the slices, we move in the <m>y</m>
          direction. At each <m>y</m> the radius is <m>x =
          a\sqrt{\frac{y}{h}}</m>. The area is <m>\pi x^2 = \frac{\pi
          a^2 y}{h}</m> and the thickness is <m>dy</m>.
          <md>
            <mrow>
              V \amp = \int_0^h \pi a^2 \frac{y}{h} dy = \frac{\pi
              a^2}{h} \int_0^n y dy
            </mrow>
            <mrow>
              \amp = \frac{\pi a^2 h^2}{2h} = \frac{\pi a^2 h}{2}
            </mrow>
          </md>
        </p>
        <p>
          We get a volume equation which is similar to a cone
          <m>\left(\frac{1}{3} \pi r^2 h\right)</m> but divided by
          <m>2</m> instead of <m>3</m>.
        </p>
      </statement>
    </example>
  </subsection>
  <subsection xml:id="subsection-shells">
    <title>Volumes by Spherical or Cylindrical Shells</title>
    <p>
      In the previous section, we used cross-sectional slices, slicing
      with a plane to produce the circles. However, there are other
      ways to slice up a volume. In this section, we look at the
      general method of shells. Instead of slicing with a plane, we
      think of a volume as a nested collection of similar shapes
      called shells. You could think of the (rough) spheres that form
      an onion, or stacking Matryoshka dolls.
    </p>
    <p>
      If we think of the shells as infinitesimally thin, with
      thickness <m>dr</m>, then we can add up all the infinitesimal
      volumes of the shells just as with did with slices in the
      previous section. We use <m>dr</m> as the infinitesimal
      thickness, since we often arrange the shells in a radial
      direction.
    </p>
    <p>
      Our examples in this section will use cylindrical shells. If we
      have a cylinder with radius <m>r</m> and height <m>h</m>, its
      surface area is <m>A = 2\pi r h</m>. A cylindrial shell will
      have thickness <m>dr</m>, so infinitesimal volumes is <m>dV =
      2\pi r h dr</m>. To find a volume, we express <m>h</m> as a
      function of <m>r</m>, and integrate.
    </p>
    <example>
      <statement>
        <p>
          For an example, consider a pottery bowl whose cross section
          is roughly the area between <m>x^2</m> and <m>x^4</m> on the
          interval <m>[-1,1]</m>.
        </p>
        <figure xml:id="figure-cross-section-bowl">
          <caption>Cross Section of a Bowl</caption>
          <image xml:id="figure21" width="80%">
            <asymptote>
              size(10cm,7cm);
              import graph;
              xaxis();
              yaxis();

              real f(real x) {return x^2;}
              real g(real x) {return x^4;}

              draw(graph(f,-1,1));
              draw(graph(g,-1,1));

              draw((0.6,0.36)--(0.6,0.130));

              label("$h = r^2 - r^4$", (0.6,0.36),NW);
              label("$x^2$",(-0.6,0.36),NE);
              label("$x^4$",(-0.6,0.130),SW);
            </asymptote>
          </image>
        </figure>
        <p>
          Sliced into cylindrial shells, each shell has height <m>h =
          r^2 - r^4</m>, based on the radius <m>r</m> from the centre
          of the bowl.
          <md>
            <mrow>
              V \amp = \int_0^1 2\pi r (r^2 - r^4) dr
            </mrow>
            <mrow>
              \amp = 2\pi \int_0^1 r^3 - r^5 dr
            </mrow>
            <mrow>
              \amp = \left. 2\pi \left( \frac{r^4}{4} - \frac{r^6}{6}
              \right) \right|_0^1
            </mrow>
            <mrow>
              \amp = \left. 2\pi \left( \frac{3r^4 - 2r^6}{12}
              \right) \right|_0^1 = \frac{2\pi}{12} = \frac{\pi}{6}
            </mrow>
          </md>
        </p>
      </statement>
    </example>
    <example>
      <statement>
        <p>
          A second example is a bell which is the surface of
          revolution about the <m>y</m> axis of the function
          <m>e^{-x^2}</m> between <m>[-2,2]</m>.
          <md>
            <mrow>
              V \amp = \int_0^2 2\pi re^{-r^2} dr
            </mrow>
            <mrow>
              u \amp = e^{-r^2}
            </mrow>
            <mrow>
              du \amp = -2r e^{-r^2} dr
            </mrow>
            <mrow>
              u(0) \amp = 1
            </mrow>
            <mrow>
              u(2) \amp = \frac{1}{e^4}
            </mrow>
            <mrow>
              V \amp = \int_1^{\frac{1}{e^4}} -\pi du = \left. -\pi u
              \right|_1^{\frac{1}{e^4}} = \pi \left( 1 - \frac{1}{e^4}
              \right) = \pi \frac{e^4-1}{e^4}
            </mrow>
          </md>
        </p>
      </statement>
    </example>
    <figure xml:id="figure-cross-section-bell">
      <caption>Cross Section of a Bell</caption>
      <image xml:id="figure22" width="80%">
        <asymptote>
          size(10cm,7cm);
          import graph;
          xaxis();
          yaxis();

          real f(real x) {return exp(-1*x^2);}

          draw(graph(f,-2,2));

          draw((0.3,0)--(0.3,0.914));

          label("$h = e^{-r^2}$", (0.3,0.914),NE);
          label("$e^{-x^2}$",(-0.3,0.914),NW);
        </asymptote>
      </image>
    </figure>
    <example>
      <statement>
        <p>
          The Horn of Gabriel is a surface of revolution under the
          graph of <m>f(x) = \frac{1}{x}</m> for <m>x \in
          [1,\infty)</m>. We can use an improper integral to
          calculate its volume.
          <me>
            V = \int_1^\infty \pi \frac{1}{x^2} = \lim_{a \rightarrow
            \infty} \int_1^a \frac{\pi}{x^2} = \lim_{a \rightarrow
            \infty} \left. \frac{-\pi}{x} \right|_1^a = \lim_{a
            \rightarrow \infty} \frac{-\pi}{a} + \pi = \pi
          </me>
        </p>
        <p>
          The volume is finite!  Even though the Horn of Gabriel
          extends to infinity, it narrows quickly enough that it only
          contains a finite volume.
        </p>
      </statement>
    </example>
    <example>
      <statement>
        <p>
          An interesting example is the calculation of the volume of a
          torus. A torus is defined by a larger radius <m>a</m>,
          which is the distance from the centre of the torus to the
          centre of any cross-sectional circle, and a smaller radius
          <m>b</m>, which is the radius of any cross-sectional
          circle.
        </p>
        <figure xml:id="figure-torus">
          <caption>A Torus</caption>
          <image xml:id="figure23" width="80%">
            <asymptote>
              unitsize(5cm);
              import graph3;

              currentprojection=orthographic(4,0,2);

              real R=2;
              real a=1;

              triple f(pair t) {
                return
              ((R+a*cos(t.y))*cos(t.x),(R+a*cos(t.y))*sin(t.x),a*sin(t.y));
              }

              pen p=rgb(0.2,0.5,0.7);
              surface s=surface(f,(0,0),(2pi,2pi),8,8,Spline);

              draw(s,lightblue);
            </asymptote>
          </image>
        </figure>
        <p>
          The cross section of a torus consists of two circles.
        </p>
        <figure xml:id="figure-cross-section-torus">
          <caption>A Cross-Section of a Torus</caption>
          <image xml:id="figure24" width="80%">
            <asymptote>
              size(10cm,7cm);
              import graph;
              xaxis();

              draw(circle(-2,1));
              draw(circle(2,1));

              draw((0.05,-1.1)--(0.05,-1.3)--(2,-1.3)--(2,-1.1));
              
              label("$a$",(1,-1.3),S);

              draw((-2,0)--(-2.717,0.717));

              label("$b$",(-2.3,0.3),NE);
              
              draw((1.283,0)--(1.283,0.717));

              label("$\frac{h}{2} = 
                \sqrt{b^2 - (a-r)^2}$",(1.283,0.717),NW);
            </asymptote>
          </image>
        </figure>
        <p>
          When we take a cross section, we get the circle <m>(x-a)^2 +
          y^2 = b^2</m>. We can solve for <m>y = \sqrt{b^2 -
          (x-a)^2}</m>. This is only half the height of a cylindrical
          shell, so <m>h = 2y</m>. Then <m>x</m> is the radius, so we
          can write <m>h = 2 \sqrt{b^2 - (r-a)^2}</m> We will
          integrate from <m>a-b</m> to <m>a+b</m> in <m>r</m>, to
          cover one of the cross-sectional circles.
          <md>
            <mrow>
              V \amp = 2 \int_{a-b}^{a+b} 2\pi r \sqrt{b^2 - (r-a)^2}
              dr
            </mrow>
            <mrow>
              u \amp = r-a \implies r = u+a
            </mrow>
            <mrow>
              du \amp = dr
            </mrow>
            <mrow>
              u(a-b) \amp = -b
            </mrow>
            <mrow>
              u(a+b) \amp = b
            </mrow>
            <mrow>
              V \amp = 4\pi \int_{-b}^b (u+a) \sqrt{b^2 - u^2} du
            </mrow>
            <mrow>
              \amp = 4\pi \left[ \int_{-b}^b u \sqrt{b^2-u^2} du +
              \int_{-b}^b a \sqrt{b^2-u^2} du \right]
            </mrow>
            <mrow>
              \int_{-b}^b u \sqrt{b^2-u^2}du \amp = \left.
              \frac{1}{-2} \frac{2}{3} (b^2 -u^2)^{\frac{3}{2}}
              \right|_{-b}^b = 0
            </mrow>
            <mrow>
              \int_{-b}^b \sqrt{b^2 - u^2} \amp -
              \int_{-\pi/2}^{\pi/2} |b\cos \theta| b \cos \theta
              d\theta
            </mrow>
            <mrow>
              u \amp = b \sin \theta
            </mrow>
            <mrow>
              du \amp = b \cos \theta d \theta
            </mrow>
            <mrow>
              u = b \amp \implies \theta = \frac{\pi}{2}
            </mrow>
            <mrow>
              u = - b \amp \implies \theta = - \frac{\pi}{2}
            </mrow>
            <mrow>
              \int_{-b}^b \sqrt{b^2 - u^2} \amp =
              \int_{-\pi/2}^{\pi/2} |b\cos \theta| b \cos \theta
              d\theta
            </mrow>
            <mrow>
              \amp = b^2 \int_{-\pi/2}^{\pi/2} \frac{1 + \cos
              2\theta}{2} d \theta
            </mrow>
            <mrow>
              \amp = b^2 \int_{-\pi/2}^{\pi/2} \frac{1}{2} d\theta+
              b^2 \int_{-\pi/2}^{\pi/2} \frac{\cos 2\theta}{2}
              d\theta
            </mrow>
            <mrow>
              \amp = \frac{b^2}{2} \left( \frac{\pi}{2} -
              \frac{-\pi}{2} \right) + 0
            </mrow>
            <mrow>
              \amp = \frac{b^2\pi}{2}
            </mrow>
            <mrow>
              V \amp = 4\pi \left[ 0 + \frac{b^2 \pi}{2} \right] =
              2\pi^2 a^2 b
            </mrow>
          </md>
        </p>
        <p>
          Therefore, the volume of a torus with major radius <m>a</m>
          and minor radius <m>b</m> is <m>2\pi^2 a^2 b</m>. As a
          curious obvservation, we can write this as <m>(2\pi a)(\pi
          b^2)</m>. The <m>2\pi a</m> factor is the circumference of
          the large circle with radius <m>a</m>, which lies at the
          center of each cross-sectional circle. The <m>\pi b^2</m>
          factor is the radius of each cross-sectional circle.
          Therefore, the torus has the same volume of a cylinder with
          height equal to this circumference and radius <m>b</m>.
        </p>
      </statement>
    </example>
  </subsection>
</section>
